!function(){let e=document.querySelector("body"),t=document.querySelectorAll(".tab-to");var o=document.querySelector(".index-header"),n=document.querySelectorAll(".header-nav .ul>div>a"),l=document.querySelector(".nav-show-box");try{i()}catch(e){setTimeout((()=>{i()}),1e3)}function i(e){let t=new BMapGL.Map("container"),o=new BMapGL.Point(116.317304,40.044077);t.centerAndZoom(o,14),t.enableScrollWheelZoom(!0);var n=new BMapGL.Marker(o);n.addEventListener("click",(function(e){var n=t.pointToPixel(o),l=n.x+0,i=n.y+0,a=t.pixelToPoint(new BMapGL.Pixel(l,i)),r=new BMapGL.InfoWindow("\n    <p>\n      地址:北京市海淀区信息路22号B座2层320室\n    </p>\n    <p>\n      电话:400-856-6607\n    </p>\n   ",{width:300,height:50,title:"信息"});t.openInfoWindow(r,a)})),t.addOverlay(n)}let a=document.querySelectorAll(".index-content .main-tab>.tab-span"),r=document.querySelector(".index-content .main-tab>.underline");function c(e){let n=document.querySelector(".index-content .index_huasaiyun"),i=document.querySelectorAll(".lazy-w"),c=[],d=[];if(t.forEach((function(e,t){let o=e.getBoundingClientRect();o.top<=window.innerHeight&&o.bottom-300>=0&&"none"!==getComputedStyle(e).display&&(c.push(t),d.push(e))})),c.length>0){let e=function(e){let t=0,o=e[0];for(let n=1;n<e.length;n++)e[n]<o&&(o=e[n],t=n);return t}(d.map((e=>e.offsetTop)));r.style.setProperty("--w",a[c[e]].innerText.length+"em"),r.style.left=a[c[e]].offsetLeft+"px",a.forEach((e=>{e.classList.remove("text")})),a[c[e]].classList.add("text")}let u=document.querySelector(".return-to-top");if(n.getBoundingClientRect().bottom<=150&&"none"!==getComputedStyle(n).display&&(o.classList.add("topsCurrent"),u.classList.remove("fadeOutUp"),u.classList.add("opacityToBottom")),n.getBoundingClientRect().bottom>=151&&"none"!==getComputedStyle(n).display&&"none"===getComputedStyle(l).display){Array.from(u.classList).indexOf("opacityToBottom")>-1&&(u.classList.remove("opacityToBottom"),u.classList.add("fadeOutUp"))}document.querySelectorAll(".lazy-dom").forEach((function(e){s(e)&&(e.classList.add("animationToRight"),e.classList.remove("lazy-dom"))})),i.forEach((function(e){s(e)&&e.classList.remove("lazy-w")})),document.querySelectorAll(".lazy-load").forEach(((e,t)=>{let o=e.getBoundingClientRect();o.top<=window.innerHeight&&o.bottom>0&&"none"!==getComputedStyle(e).display&&(e.src=e.dataset.src,e.classList.remove("lazy-load"),e.removeAttribute("data-src"))})),document.querySelectorAll(".lazy-bg").forEach((function(e){if(s(e)){let t=e.getAttribute("data-src");e.style.backgroundImage="url("+t+")",e.classList.remove("lazy-bg"),e.removeAttribute("data-src")}}))}function s(e){let t=e.getBoundingClientRect();return t.top<=window.innerHeight&&t.bottom>=0&&"none"!==getComputedStyle(e).display}a.forEach(((e,o)=>{e.addEventListener("click",(function(e){let n=e.target.offsetLeft;r.style.setProperty("--w",this.innerText.length+"em"),r.style.left=n+"px",a.forEach((e=>{e.classList.remove("text")})),this.classList.add("text"),window.scrollTo({top:t[o].offsetTop-100,left:0,behavior:"smooth"})}))})),e.addEventListener("click",(function(e){n.forEach(((e,t)=>{let o=document.querySelector(".box-"+t);o&&o.classList.remove("flex")})),l.style.display="none",c()})),window.addEventListener("scroll",c),c()}();